<!-- templates/battle.html -->
{% extends "base.html" %}

{% block title %}Battle - {{ location }}{% endblock %}
{% block content %}
<div class="container mx-auto p-6 text-center h-[750px]">
    {% if location %}
        <h1 class="text-3xl font-bold">Welcome to the {{ location }}!</h1>
        <!-- The grid container now fills the parent's height -->
        <div class="grid grid-cols-8 grid-rows-6 bg-blue-500 h-full">
            <!-- Enemy Name Cell -->
            <div class="row-span-1 row-start-2 bg-neutral-100 text-neutral-900 w-[300px] content-center rounded-r-lg">
                <p>{{ enemy.name if enemy else 'No enemy encountered' }}</p>
            </div>
            <!-- Enemy Health Cell -->
            <div class="row-span-1 bg-green-500 row-start-3 w-[265px] h-[45px] rounded-br-lg">
                <p>HP: {{ enemy.HP if enemy else '' }}</p>
            </div>
            <!-- Enemy Portrait Cell (Grid system remains unchanged) -->
            <div class="bg-neutral-100 col-start-3 row-start-3 row-span-3 text-neutral-900">
                {% if enemy %}
                  <!-- Assuming enemy images are stored as static/images/enemies/{Enemy_Name}.png -->
                  <img src="{{ url_for('static', filename='images/enemies/' ~ enemy.name|replace(" ", "_") ~ '.png') }}" alt="{{ enemy.name }} portrait">
                {% else %}
                  <p>No enemy encountered.</p>
                {% endif %}
            </div>
            <!-- Bottom section for actions remains unchanged -->
            <div class="row-span-1 col-span-8 row-start-6 bg-neutral-100 rounded-t-lg border-4 border-t-neutral-700 border-r-neutral-700 border-l-neutral-700 text-neutral-900">
                <!-- Additional content here -->
                 <div class="grid grid-cols-4 my-5">
                    <p class="col-span-2">What will you do?</p>
                    <div class="grid grid-cols-2 grid-rows-2 gap-4">
                        <button class="bg-blue-500 hover:bg-blue-400 text-white font-bold border-b-4 border-blue-700 hover:border-blue-500 rounded">
                            Fight
                        </button>
                        <button class="bg-blue-500 hover:bg-blue-400 text-white font-bold border-b-4 border-blue-700 hover:border-blue-500 rounded">
                            Defend
                        </button>
                        <button class="bagButton bg-blue-500 hover:bg-blue-400 text-white font-bold border-b-4 border-blue-700 hover:border-blue-500 rounded">
                            Bag
                        </button>
                        <button onclick="window.location.href='{{ url_for('game') }}'" class="bg-blue-500 hover:bg-blue-400 text-white font-bold border-b-4 border-blue-700 hover:border-blue-500 rounded">
                            Run
                        </button>
                    </div>
                    <div class="grid grid-rows-2 gap-4 ml-[35px]">
                        <p class="bg-green-400 w-[250px] rounded">HP</p>
                        <p class="bg-blue-400 w-[250px] rounded">MP</p>
                    </div>
                 </div>
            </div>
         </div>
    {% else %}
        <h1 class="text-3xl font-bold">No location selected!</h1>
    {% endif %}
</div>
{% include "inventory_modal.html" %}
{% endblock %}
